# web 端地图坐标系转换（涉及到百度，高德，WGS84，GCJ02）

> 首先说下经纬度，在工作中经常有同事搞混经纬度，调用方法的时候也经常写反，再加上一大堆坐标系，导致后续工作混乱

> 经度(Lng)：116.397428，在中国是经度大于纬度

> 纬度（Lat）:39.90923

注意：

国家测绘局规定，中国互联网地图必须使用至少加密一次的 GCJ-02 坐标。故高德不提供任何坐标系转换为 GPS 坐标的接口，请知晓。

根据相关法律规定，百度不支持将任何一种坐标系坐标转换为 wgs84 类型。

### 百度坐标系介绍，BD09

以下两种分别是 JavaScript API 和 Android 地图 SDK API，说到的坐标系方面的知识，都是大同小异的，可以总结如下：

http://lbsyun.baidu.com/index.php?title=jspopular/guide/coorinfo

http://lbsyun.baidu.com/index.php?title=androidsdk/guide/tool/coordinate

#### 国内主流坐标系类型主要有以下三种

1. WGS84：为一种大地坐标系，也是目前广泛使用的 GPS 全球卫星定位系统使用的坐标系；简称（WGS84 坐标）
2. GCJ02：是由中国国家测绘局制订的地理信息系统的坐标系统，是由 WGS84 坐标系经加密后的坐标系；简称（国测局坐标）
3. BD09：百度坐标系，在 GCJ02 坐标系基础上再次加密。其中 BD09ll 表示百度经纬度坐标，BD09mc 表示百度墨卡托米制坐标。简称（百度坐标）
   在海外地区，统一使用 WGS84 坐标。开发者在使用百度地图相关服务时，请注意选择

#### 百度提供的官方方法是 Convertor 构造函数，里面有一个 translate 方法，提供了 from,to 参数，意思就是从一个坐标系转到另一个坐标系，其中 from，to 的定义如下

![baidu](https://raw.githubusercontent.com/lhywell/map/master/example/img/map0001.png)

其中，3 代表 google,soso 地图、aliyun 地图、mapabc 地图和 amap 地图所用坐标，国测局坐标，看来百度对坐标的转换是把这几种归为一类，其实 google 坐标系是 wgs84 坐标，国测局是国测局坐标，两个压根不是一个东西，这种转换可能考虑到国家安全的层面，所以在转换上比较简单粗暴。

以下是[index_baidu.html](https://lhywell.github.io/map/example/tools/index_baidu.html)展示效果

![baidu](https://raw.githubusercontent.com/lhywell/map/master/example/img/map0002.png)

### 高德坐标系介绍，GCJ02

高德地图 API 使用的坐标体系，为国测局规定的 GCJ-02 坐标系，是国内的标准坐标体系。区别于 GPS 坐标（WGS-84 坐标系），是在其基础上进行了一次加密。

引用：https://lbs.amap.com/faq/advisory/others/39838

#### 高德数据来源

1. 高德地图手机 app 日活接近 3000 万,高德地图 LBS 服务的 30 多万第三方应用也在丰富高德的数据源。
2. 通过政府交管合作得到的信息，权威性很高，现在在跟近百加交管合作。
3. 高德地图是阿里巴巴集团旗下的公司，阿里巴巴有运单、外卖单等等数据，也是相当庞大优质的数据来源

#### 高德只提供了以下 3 种坐标转换到高德

1. gps:GPS 原始坐标；
2. baidu：百度经纬度；
3. mapbar：图吧经纬度；

#### 关于高德坐标转换，有各种问题请参考

https://lbs.amap.com/faq/search?s=%E9%AB%98%E5%BE%B7%E5%9D%90%E6%A0%87%E8%BD%AC%E6%8D%A2&faq_type=&page_id=

#### 转换方法参考：

坐标转换 service:
https://restapi.amap.com/v3/assistant/coordinate/convert?locations=110.69914997013403,34.70943356436415&coordsys=baidu&output=xml&key=您申请的key

参考：
http://lbsbbs.amap.com/forum.php?mod=viewthread&tid=724&extra=page%3D1

https://lbs.amap.com/api/javascript-api/guide/transform/coord_trans

以下是[index_gaode.html](https://lhywell.github.io/map/example/tools/index_gaode.html)展示效果

![高德](https://raw.githubusercontent.com/lhywell/map/master/example/img/map0003.png)

### 数据

坐标系是纬度在前，经度在后，首尾相接，每个 Point 之间用分号分割的多边形，请复制到文本框中，点击转换按钮，同时提供一个小工具，可以支持前后经纬度转换，[经纬度前后转换](https://github.com/lhywell/map/blob/master/docs/3.2README.md)

第一条多边形
41.80343182084754,123.41714737149174;41.802469398770086,123.41638531717835;41.80069675718447,123.41498506836558;41.802648707294054,123.4104020648181;41.80322861725963,123.40904669614183;41.80324582365427,123.40891115050668;41.80334960825875,123.40807768593105;41.803565422466704,123.40715106887217;41.80412851276868,123.40564363017187;41.805016774641985,123.40353147891388;41.80521765304824,123.40369015772382;41.805395191162916,123.4038286179092;41.80562822631518,123.4040215787217;41.805884654720195,123.40423974280857;41.80612500384948,123.40448396673166;41.80635944402792,123.40473316917259;41.806619488186776,123.40506588617275;41.807030234197725,123.40566247109726;41.80724614854405,123.40599694151764;41.80753730988586,123.40640700101658;41.80778298422714,123.40675454188873;41.80817678424865,123.40729141906723;41.809424709153085,123.40908134285336;41.80981842076106,123.4097794243241;41.8101521720863,123.41038279510083;41.810197948424594,123.41046424158682;41.810324585244445,123.41069147186198;41.81061221723221,123.41120217304172;41.81097186296762,123.41190967394103;41.811467449481796,123.41294741600629;41.81152590539484,123.4130920263635;41.811541493157,123.4131311899679;41.81164289872959,123.4133792184278;41.81198362733205,123.41422053888884;41.81240397876193,123.4153615713019;41.81261148017342,123.41598354160976;41.81266440064208,123.41614202172896;41.81267616067534,123.41617812944074;41.812726168755646,123.4163285746349;41.81274284760333,123.41637771877996;41.81296079031442,123.41705059062907;41.81318209490555,123.41776438484028;41.813415768307685,123.41853310455274;41.81348589474055,123.41876457981185;41.813546163787215,123.4189820020356;41.813678661633084,123.41943483370795;41.81385518839775,123.42021703967302;41.814031370059745,123.421155162196;41.81420940800258,123.422060954938;41.814253564769636,123.42229310929221;41.81364835935844,123.42235954616092;41.81276217927457,123.42225740387846;41.81189638729916,123.42202795582962;41.81111052516046,123.42170333034781;41.81071784151908,123.4215354222985;41.809940909922325,123.4212104511718;41.80767717208085,123.42026037004436;41.807467693864886,123.42013957714698;41.80727013185864,123.41999377271311;41.80640540400433,123.41938006025785;41.80552989439005,123.41870685408315;41.804009892820716,123.41758575717928;41.80343182084754,123.41714737149174

第二条多边形
43.876002332899304,126.56522054036458;43.87611436631944,126.56484429253472;43.87652316623264,126.56419026692708;43.87699137369792,126.56360053168405;43.87618435329861,126.56264133029514;43.87630425347222,126.56234646267362;43.87641221788194,126.56204644097222;43.87668619791667,126.56141845703124;43.87633544921875,126.56109754774306;43.8760142686632,126.56087158203124;43.875774468315974,126.56068332248265;43.875859375,126.56051242404514;43.8759361436632,126.56027642144096;43.87580919053819,126.56021240234377;43.875828179253475,126.55914442274306;43.87531032986111,126.55916042751736;43.875301106770834,126.55813232421876;43.8752783203125,126.5580202907986;43.87527425130208,126.55736029730905;43.87504638671875,126.5573282877604;43.87506239149305,126.55678141276042;43.875209147135415,126.55679144965278;43.876546223958336,126.5568443467882;43.87719618055556,126.55692464192708;43.87758517795139,126.55704264322917;43.87763237847222,126.5559974500868;43.877802191840274,126.55518446180557;43.87783447265625,126.55519449869792;43.87746826171875,126.55501437717014;43.876827256944445,126.55469835069444;43.87642550998264,126.55362548828126;43.87583713107639,126.55263834635416;43.875087076822915,126.55157660590278;43.875026312934025,126.5509334309896;43.875034450954864,126.55070963541668;43.875111219618056,126.55040852864585;43.87512722439236,126.5501513671875;43.87518934461806,126.5498074001736;43.87526611328125,126.54959364149306;43.87525119357639,126.54929253472224;43.87523518880209,126.54909939236111;43.87523518880209,126.54791937934029;43.879947102864584,126.54584635416668;43.87995035807292,126.54631727430557;43.87999620225695,126.5472403971354;43.88007432725694,126.54786241319444;43.880182291666664,126.54861355251737;43.880352376302085,126.54932156032986;43.88047634548611,126.54979329427084;43.8805992296007,126.55028727213542;43.880785319010414,126.55082329644095;43.88098605685764,126.5512744140625;43.88111029730903,126.5516384548611;43.88131130642361,126.55217529296876;43.88143527560763,126.55249755859376;43.88152615017361,126.55271538628472;43.88199028862847,126.5539705403646;43.88246337890625,126.55491455078123;43.88286322699653,126.55546630859376;43.88374131944445,126.55408230251736;43.88475016276042,126.55541259765624;43.886019422743054,126.55355061848958;43.88700900607639,126.55595350477432;43.88694742838542,126.55676947699652;43.88793728298611,126.55878662109374;43.888401150173614,126.56058837890625;43.88864827473958,126.56157552083332;43.89203016493055,126.56204535590278;43.89197726779514,126.56312445746528;43.891803385416665,126.56582628038194;43.89197238498264,126.5686754014757;43.89227213541667,126.57146538628471;43.892399359809026,126.5736404079861;43.89237114800347,126.5744873046875;43.89235812717014,126.57489637586804;43.89224012586806,126.57557237413197;43.89209499782986,126.57720160590276;43.89199028862847,126.57790825737848;43.89176513671875,126.57942843967014;43.88518608940972,126.5788503689236;43.884510091145835,126.57879123263888;43.881450466579864,126.57852240668404;43.881536187065976,126.57624837239584;43.88163628472222,126.57363037109376;43.87887532552083,126.5734304470486;43.87833333333333,126.57339057074653;43.878124186197915,126.5733753797743;43.87637234157986,126.5732484266493;43.87365614149306,126.57305148654514;43.87654839409722,126.5684375;43.87484727647569,126.56830837673613;43.87549126519097,126.56732747395831;43.87517822265625,126.56696234809029;43.875522189670136,126.56639350043405;43.87556640625,126.56639051649306;43.875592176649306,126.566318359375;43.875569118923615,126.56627034

上一页：[坐标系说明](https://github.com/lhywell/map/blob/master/docs/3.0README.md)

下一页：[经纬度前后转换](https://github.com/lhywell/map/blob/master/docs/3.2README.md)
